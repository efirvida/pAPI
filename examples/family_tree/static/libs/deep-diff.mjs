/* esm.sh - deep-diff@1.0.2 */
var X = Object.create; var F = Object.defineProperty; var Y = Object.getOwnPropertyDescriptor; var Z = Object.getOwnPropertyNames; var c = Object.getPrototypeOf, g = Object.prototype.hasOwnProperty; var ee = (p, a) => () => (a || p((a = { exports: {} }).exports, a), a.exports); var te = (p, a, o, y) => { if (a && typeof a == "object" || typeof a == "function") for (let v of Z(a)) !g.call(p, v) && v !== o && F(p, v, { get: () => a[v], enumerable: !(y = Y(a, v)) || y.enumerable }); return p }; var fe = (p, a, o) => (o = p != null ? X(c(p)) : {}, te(a || !p || !p.__esModule ? F(o, "default", { value: p, enumerable: !0 }) : o, p)); var J = ee((R, G) => { (function (p, a) { var o = a(p); if (typeof define == "function" && define.amd) define("DeepDiff", function () { return o }); else if (typeof R == "object" || typeof navigator == "object" && navigator.product.match(/ReactNative/i)) G.exports = o; else { var y = p.DeepDiff; o.noConflict = function () { return p.DeepDiff === o && (p.DeepDiff = y), o }, p.DeepDiff = o } })(R, function (p) { var a = ["N", "E", "A", "D"]; function o(t, f) { t.super_ = f, t.prototype = Object.create(f.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }) } function y(t, f) { Object.defineProperty(this, "kind", { value: t, enumerable: !0 }), f && f.length && Object.defineProperty(this, "path", { value: f, enumerable: !0 }) } function v(t, f, e) { v.super_.call(this, "E", t), Object.defineProperty(this, "lhs", { value: f, enumerable: !0 }), Object.defineProperty(this, "rhs", { value: e, enumerable: !0 }) } o(v, y); function A(t, f) { A.super_.call(this, "N", t), Object.defineProperty(this, "rhs", { value: f, enumerable: !0 }) } o(A, y); function N(t, f) { N.super_.call(this, "D", t), Object.defineProperty(this, "lhs", { value: f, enumerable: !0 }) } o(N, y); function P(t, f, e) { P.super_.call(this, "A", t), Object.defineProperty(this, "index", { value: f, enumerable: !0 }), Object.defineProperty(this, "item", { value: e, enumerable: !0 }) } o(P, y); function K(t, f, e) { var n = t.slice((e || f) + 1 || t.length); return t.length = f < 0 ? t.length + f : f, t.push.apply(t, n), t } function m(t) { var f = typeof t; return f !== "object" ? f : t === Math ? "math" : t === null ? "null" : Array.isArray(t) ? "array" : Object.prototype.toString.call(t) === "[object Date]" ? "date" : typeof t.toString == "function" && /^\/.*\//.test(t.toString()) ? "regexp" : "object" } function x(t) { var f = 0; if (t.length === 0) return f; for (var e = 0; e < t.length; e++) { var n = t.charCodeAt(e); f = (f << 5) - f + n, f = f & f } return f } function D(t) { var f = 0, e = m(t); if (e === "array") { t.forEach(function (s) { f += D(s) }); var n = "[type: array, hash: " + f + "]"; return f + x(n) } if (e === "object") { for (var r in t) if (t.hasOwnProperty(r)) { var i = "[ type: object, key: " + r + ", value hash: " + D(t[r]) + "]"; f += x(i) } return f } var u = "[ type: " + e + " ; value: " + t + "]"; return f + x(u) } function w(t, f, e, n, r, i, u, s) { e = e || [], r = r || [], u = u || []; var d = r.slice(0); if (typeof i < "u" && i !== null) { if (n) { if (typeof n == "function" && n(d, i)) return; if (typeof n == "object") { if (n.prefilter && n.prefilter(d, i)) return; if (n.normalize) { var H = n.normalize(d, i, t, f); H && (t = H[0], f = H[1]) } } } d.push(i) } m(t) === "regexp" && m(f) === "regexp" && (t = t.toString(), f = f.toString()); var T = typeof t, W = typeof f, l, h, b, j, $ = T !== "undefined" || u && u.length > 0 && u[u.length - 1].lhs && Object.getOwnPropertyDescriptor(u[u.length - 1].lhs, i), q = W !== "undefined" || u && u.length > 0 && u[u.length - 1].rhs && Object.getOwnPropertyDescriptor(u[u.length - 1].rhs, i); if (!$ && q) e.push(new A(d, f)); else if (!q && $) e.push(new N(d, t)); else if (m(t) !== m(f)) e.push(new v(d, t, f)); else if (m(t) === "date" && t - f !== 0) e.push(new v(d, t, f)); else if (T === "object" && t !== null && f !== null) { for (l = u.length - 1; l > -1; --l)if (u[l].lhs === t) { j = !0; break } if (j) t !== f && e.push(new v(d, t, f)); else { if (u.push({ lhs: t, rhs: f }), Array.isArray(t)) { for (s && (t.sort(function (z, I) { return D(z) - D(I) }), f.sort(function (z, I) { return D(z) - D(I) })), l = f.length - 1, h = t.length - 1; l > h;)e.push(new P(d, l, new A(void 0, f[l--]))); for (; h > l;)e.push(new P(d, h, new N(void 0, t[h--]))); for (; l >= 0; --l)w(t[l], f[l], e, n, d, l, u, s) } else { var B = Object.keys(t), C = Object.keys(f); for (l = 0; l < B.length; ++l)b = B[l], j = C.indexOf(b), j >= 0 ? (w(t[b], f[b], e, n, d, b, u, s), C[j] = null) : w(t[b], void 0, e, n, d, b, u, s); for (l = 0; l < C.length; ++l)b = C[l], b && w(void 0, f[b], e, n, d, b, u, s) } u.length = u.length - 1 } } else t !== f && (T === "number" && isNaN(t) && isNaN(f) || e.push(new v(d, t, f))) } function E(t, f, e, n, r) { var i = []; if (w(t, f, i, n, null, null, null, r), e) for (var u = 0; u < i.length; ++u)e(i[u]); return i } function L(t, f, e, n, r, i, u) { return w(t, f, e, n, r, i, u, !0) } function O(t, f, e, n) { var r = n ? function (u) { u && n.push(u) } : void 0, i = E(t, f, r, e); return n || (i.length ? i : void 0) } function Q(t, f, e, n) { var r = n ? function (u) { u && n.push(u) } : void 0, i = E(t, f, r, e, !0); return n || (i.length ? i : void 0) } function S(t, f, e) { if (e.path && e.path.length) { var n = t[f], r, i = e.path.length - 1; for (r = 0; r < i; r++)n = n[e.path[r]]; switch (e.kind) { case "A": S(n[e.path[r]], e.index, e.item); break; case "D": delete n[e.path[r]]; break; case "E": case "N": n[e.path[r]] = e.rhs; break } } else switch (e.kind) { case "A": S(t[f], e.index, e.item); break; case "D": t = K(t, f); break; case "E": case "N": t[f] = e.rhs; break }return t } function M(t, f, e) { if (typeof e > "u" && f && ~a.indexOf(f.kind) && (e = f), t && e && e.kind) { for (var n = t, r = -1, i = e.path ? e.path.length - 1 : 0; ++r < i;)typeof n[e.path[r]] > "u" && (n[e.path[r]] = typeof e.path[r + 1] < "u" && typeof e.path[r + 1] == "number" ? [] : {}), n = n[e.path[r]]; switch (e.kind) { case "A": e.path && typeof n[e.path[r]] > "u" && (n[e.path[r]] = []), S(e.path ? n[e.path[r]] : n, e.index, e.item); break; case "D": delete n[e.path[r]]; break; case "E": case "N": n[e.path[r]] = e.rhs; break } } } function _(t, f, e) { if (e.path && e.path.length) { var n = t[f], r, i = e.path.length - 1; for (r = 0; r < i; r++)n = n[e.path[r]]; switch (e.kind) { case "A": _(n[e.path[r]], e.index, e.item); break; case "D": n[e.path[r]] = e.lhs; break; case "E": n[e.path[r]] = e.lhs; break; case "N": delete n[e.path[r]]; break } } else switch (e.kind) { case "A": _(t[f], e.index, e.item); break; case "D": t[f] = e.lhs; break; case "E": t[f] = e.lhs; break; case "N": t = K(t, f); break }return t } function U(t, f, e) { if (t && f && e && e.kind) { var n = t, r, i; for (i = e.path.length - 1, r = 0; r < i; r++)typeof n[e.path[r]] > "u" && (n[e.path[r]] = {}), n = n[e.path[r]]; switch (e.kind) { case "A": _(n[e.path[r]], e.index, e.item); break; case "D": n[e.path[r]] = e.lhs; break; case "E": n[e.path[r]] = e.lhs; break; case "N": delete n[e.path[r]]; break } } } function V(t, f, e) { if (t && f) { var n = function (r) { (!e || e(t, f, r)) && M(t, f, r) }; E(t, f, n) } } return Object.defineProperties(O, { diff: { value: O, enumerable: !0 }, orderIndependentDiff: { value: Q, enumerable: !0 }, observableDiff: { value: E, enumerable: !0 }, orderIndependentObservableDiff: { value: L, enumerable: !0 }, orderIndepHash: { value: D, enumerable: !0 }, applyDiff: { value: V, enumerable: !0 }, applyChange: { value: M, enumerable: !0 }, revertChange: { value: U, enumerable: !0 }, isConflict: { value: function () { return typeof $conflict < "u" }, enumerable: !0 } }), O.DeepDiff = O, p && (p.DeepDiff = O), O }) }); var k = fe(J()), re = k.default ?? k; export { re as default };
//# sourceMappingURL=deep-diff.mjs.map